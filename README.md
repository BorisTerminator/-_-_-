
# Анализ данных для выявления мошенничества

## Описание проекта
Этот проект представляет собой разведочный анализ данных финансовых транзакций (`transaction_fraud_data.parquet`) и обменных курсов (`historical_currency_exchange.parquet`), предоставленных организацией для разработки моделей выявления мошенничества. Целью было проверить гипотезы, выявить паттерны мошеннических операций и предложить ценность для бизнеса, включая продуктовые и инженерные решения.

## Используемые данные
- **transaction_fraud_data.parquet**: Содержит анонимизированные данные о транзакциях с признаками, такими как `amount`, `currency`, `is_fraud`, `is_outside_home_country`, `is_high_risk_vendor`, `last_hour_activity` и др.
- **historical_currency_exchange.parquet**: Содержит обменные курсы относительно USD за период с 30 сентября по 30 октября 2024 года.


## Подход к решению
### Инструменты и технологии
- **Язык программирования**: Python 3.11
- **Библиотеки**:
  - `pandas` и `pyarrow` для загрузки и обработки данных из формата Parquet.
  - `seaborn` и `matplotlib` для визуализации данных.

- **Методы анализа**:
  - Разведочный анализ данных (EDA) для проверки гипотез.
  - Визуализация распределений и агрегированных метрик.

### Этапы решения
1. **Подготовка данных**:
   - Загрузка данных с использованием `pyarrow.parquet`.
   - Стандартизация сумм транзакций в `amount_USD` с помощью слияния с данными об обменных курсах.
   - Расширение структуры `last_hour_activity` в отдельные столбцы для анализа.

2. **Проверка гипотез**:
   - Проведен анализ для 9 гипотез, включая временные паттерны, географию, поведение клиентов и характеристики транзакций.
   - Использовались агрегированные метрики (например, средняя доля мошенничества) и визуализации (например, барплоты для `is_outside_home_country` и `is_high_risk_vendor`).

3. **Визуализация**:
   - Построены графики для подтверждения выводов, такие как график `Fraud Rate` по комбинациям `is_outside_home_country` и `is_high_risk_vendor`.
   - Использованы цвета из палитры Seaborn (`Blues_d`) для наглядности.

4. **Решения**:
   - Гипотезы проверялись на основе данных без поиска в реальном времени, полагаясь на собственные знания и предоставленные данные.
   - Решения принимались на основе статистических выводов и визуального анализа, с учетом возможного дисбаланса классов.

## Результаты анализа
### Проведенные гипотезы и выводы
1. **Мошенничество чаще происходит ночью или в выходные**:
   - Вывод: Не зависит от дня недели, всплеск ночью (1-4 часа).
2. **Транзакции вне страны и в "рисковых" категориях имеют повышенный риск**:
   - Вывод: Операции за границей опаснее, категория не влияет (см. график).
3. **Аномальная активность в `last_hour_activity` коррелирует с мошенничеством**:
   - Вывод: Гипотеза не верна.
4. **Определенные устройства или каналы уязвимы для атак**:
   - Вывод: Устройства (Chip Reader, Magnetic Strip, NFC Payment) и канал POS наиболее уязвимы.
5. **Мошеннические транзакции имеют бимодальное распределение суммы**:
   - Вывод: Не подтверждено, чаще мелкие суммы .
6. **Типы карт имеют разную степень мошенничества**:
   - Вывод: Гипотеза не верна.
7. **Клиенты с низкой "исторической активностью" чаще жертвы**:
   - Вывод: Гипотеза не верна.
8. **Резкий рост расходов указывает на компрометацию**:
   - Вывод: Гипотеза не верна.
9. **Транзакции без CVC/CVV (сохраненные карты) рискованнее**:
   - Вывод: Наоборот, такие транзакции безопаснее (доля мошенничества ниже).

## Ценность для организации

### Продуктовая ценность
1. **Улучшение защиты клиентов**:
   - Фокус на ночные часы (1-4) для усиленного мониторинга транзакций, что может снизить потери.
   - Персонализированные уведомления для клиентов, совершающих транзакции за границей, с предложением дополнительных мер безопасности.
2. **Оптимизация антифрод-систем**:
   - Сосредоточение ресурсов на канале POS и устройствах (Chip Reader, Magnetic Strip, NFC Payment) для разработки целевых решений.
   - Использование данных о мелких суммах для выявления тестовых атак мошенников.
3. **Новые продукты**:
   - Разработка сервиса для автоматического анализа транзакций за границей с предложением временных лимитов или алертов.
   - Рекомендация использования сохраненных карт (без CVC) как безопасного варианта оплаты.

### Инженерная ценность
1. **Разработка моделей ML**:
   - Создание модели на основе XGBoost для предсказания мошенничества с учетом ночных паттернов и географии (проверено в предыдущих шагах).
   - Интеграция данных `last_hour_activity` для мониторинга аномалий в реальном времени.
2. **Оптимизация инфраструктуры**:
   - Разработка API для обработки транзакций с приоритетом на POS-канал и уязвимые устройства.
   - Автоматизация конверсии валют с использованием `historical_currency_exchange.parquet` для глобального анализа.
3. **Мониторинг и алерты**:
   - Реализация системы реального времени для выявления ночных транзакций и операций за границей.
   - Создание дашбордов с визуализациями (например, `Fraud Rate`) для аналитиков.

## Рекомендации
- Провести дополнительные тесты моделей ML с учетом ночных данных и географии.
- Разработать пилотный проект для POS-канала с улучшенной защитой.
- Рассмотреть внедрение алертов для транзакций за границей как часть клиентского сервиса.

